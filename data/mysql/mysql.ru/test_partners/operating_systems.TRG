TYPE=TRIGGERS
triggers='CREATE DEFINER=`root`@`localhost` TRIGGER `tr_BU_operating_systems`\n        BEFORE UPDATE\n        ON `operating_systems`\n        FOR EACH ROW\nBEGIN\n\n    IF @auth_login IS null OR @auth_login = \'unknown\' THEN\n        INSERT INTO `test_partners_changes`.`null_who_change`(id, `who_change`) VALUES(null, @auth_login);\n    END IF;\n\n\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER test_partners.`tr_AU_operating_systems`\n        AFTER UPDATE\n        ON `operating_systems`\n        FOR EACH ROW\nBEGIN\nIF @auth_login IS null OR @auth_login = \'unknown\' THEN\n    INSERT INTO `test_partners_changes`.`null_who_change`(id, `who_change`) VALUES(null, @auth_login);\nEND IF;\n\nIF OLD.name != NEW.name THEN\n    INSERT INTO `test_partners_changes`.`operating_systems_changes`(`table_id`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'name\', OLD.name, NOW(), NEW.name, USER());\nEND IF;\n\nIF OLD.version != NEW.version THEN\n    INSERT INTO `test_partners_changes`.`operating_systems_changes`(`table_id`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'version\', OLD.version, NOW(), NEW.version, USER());\nEND IF;\n\nIF OLD.user_agent_regex != NEW.user_agent_regex THEN\n    INSERT INTO `test_partners_changes`.`operating_systems_changes`(`table_id`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'user_agent_regex\', OLD.user_agent_regex, NOW(), NEW.user_agent_regex, USER());\nEND IF;\n\nIF OLD.available != NEW.available THEN\n    INSERT INTO `test_partners_changes`.`operating_systems_changes`(`table_id`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'available\', OLD.available, NOW(), NEW.available, USER());\nEND IF;\n\nIF OLD.include_without_referer_clicks != NEW.include_without_referer_clicks THEN\n    INSERT INTO `test_partners_changes`.`operating_systems_changes`(`table_id`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'include_without_referer_clicks\', OLD.include_without_referer_clicks, NOW(), NEW.include_without_referer_clicks, USER());\nEND IF;\n\nIF OLD.device_type != NEW.device_type THEN\n    INSERT INTO `test_partners_changes`.`operating_systems_changes`(`table_id`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'device_type\', OLD.device_type, NOW(), NEW.device_type, USER());\nEND IF;\n\nIF OLD.code != NEW.code THEN\n    INSERT INTO `test_partners_changes`.`operating_systems_changes`(`table_id`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'code\', OLD.code, NOW(), NEW.code, USER());\nEND IF;\n\nEND'
sql_modes=1342177280 1342177280
definers='root@localhost' 'root@localhost'
client_cs_names='utf8' 'utf8'
connection_cl_names='utf8_general_ci' 'utf8_general_ci'
db_cl_names='utf8_general_ci' 'utf8_general_ci'
created=153375877644 153375877645
