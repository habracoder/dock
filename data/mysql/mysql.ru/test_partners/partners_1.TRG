TYPE=TRIGGERS
triggers='CREATE DEFINER=`root`@`localhost` TRIGGER `test_partners`.`partners_1_changes_before` BEFORE UPDATE ON `partners_1`\n FOR EACH ROW BEGIN\n\nIF OLD.`manual_delete` != NEW.`manual_delete`\n|| OLD.`clickbuyer` != NEW.`clickbuyer`\n|| OLD.`auto_delete` != NEW.`auto_delete`\n|| ((OLD.`redsector` = 0 AND NEW.`redsector` != 0) || (OLD.`redsector` != 0 AND NEW.`redsector` = 0))\n|| OLD.`name` != NEW.`name`\n|| OLD.`filter_2` != NEW.`filter_2`\n|| OLD.`geo` != NEW.`geo`\n|| OLD.`clickbuyer_priceofclick` != NEW.`clickbuyer_priceofclick`\n|| OLD.`maximum_daily_teaser_shows_per_visitor` != NEW.`maximum_daily_teaser_shows_per_visitor`\n|| OLD.`maximum_daily_campaign_shows_per_visitor` != NEW.`maximum_daily_campaign_shows_per_visitor`\n|| OLD.`options` != NEW.`options`\nTHEN\n    SET NEW.`updated_time` = NOW();\nEND IF;\n\nIF OLD.`options` != NEW.`options`\n|| OLD.`url_prefix` != NEW.`url_prefix`\n|| OLD.`type_of_top` != NEW.`type_of_top`\n|| OLD.`on_news_show_cat` != NEW.`on_news_show_cat`\n|| OLD.`tic_traf` != NEW.`tic_traf`\n|| OLD.`cat_for_top` <=> NEW.`cat_for_top`\n|| OLD.`without_referer` <=> NEW.`without_referer`\n|| OLD.`id_topblock` != NEW.`id_topblock`\n|| OLD.`one_host` != NEW.`one_host`\n|| OLD.`fulltext_enabled` != NEW.`fulltext_enabled`\n|| OLD.`overclick_redirect` != NEW.`overclick_redirect`\n|| OLD.`subnet` != NEW.`subnet`\n|| OLD.`tranz_logo` <=> NEW.`tranz_logo`\n|| OLD.`pseudopopunder_enabled` != NEW.`pseudopopunder_enabled`\n|| OLD.`show_name` != NEW.`show_name`\nTHEN\n  SET NEW.`url_updated` = NOW();\nEND IF;\n\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER `partners_1_changes` AFTER UPDATE ON `partners_1`\n FOR EACH ROW BEGIN\n\nIF NOT OLD.othername <=> NEW.othername THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'othername\', IF(OLD.othername IS NULL, \'\', OLD.othername), NOW(), IF(NEW.othername IS NULL, \'\', NEW.othername), USER());\nEND IF;\nIF OLD.subnet != NEW.subnet THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'subnet\', OLD.subnet, NOW(), NEW.subnet, USER());\nEND IF;\nIF OLD.woman_subnet != NEW.woman_subnet THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'woman_subnet\', OLD.woman_subnet, NOW(), NEW.woman_subnet, USER());\nEND IF;\nIF OLD.newsname != NEW.newsname THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'newsname\', OLD.newsname, NOW(), NEW.newsname, USER());\nEND IF;\nIF OLD.agent_wages_proc != NEW.agent_wages_proc THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'agent_wages_proc\', OLD.agent_wages_proc, NOW(), NEW.agent_wages_proc, USER());\nEND IF;\nIF OLD.denied_newsname != NEW.denied_newsname THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'denied_newsname\', OLD.denied_newsname, NOW(), NEW.denied_newsname, USER());\nEND IF;\nIF OLD.forbiden != NEW.forbiden THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'forbiden\', OLD.forbiden, NOW(), NEW.forbiden, USER());\nEND IF;\nIF OLD.comments != NEW.comments THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'comments\', OLD.comments, NOW(), NEW.comments, USER());\nEND IF;\nIF OLD.geo != NEW.geo THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'geo\', OLD.geo, NOW(), NEW.geo, USER());\nEND IF;\nIF OLD.geo_string != NEW.geo_string THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'geo_string\', OLD.geo_string, NOW(), NEW.geo_string, USER());\nEND IF;\nIF OLD.factor != NEW.factor THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'factor\', OLD.factor, NOW(), NEW.factor, USER());\nEND IF;\nIF OLD.killfactor != NEW.killfactor THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'killfactor\', OLD.killfactor, NOW(), NEW.killfactor, USER());\nEND IF;\nIF OLD.killaddition != NEW.killaddition THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'killaddition\', OLD.killaddition, NOW(), NEW.killaddition, USER());\nEND IF;\nIF OLD.killaddition_weekend != NEW.killaddition_weekend THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'killaddition_weekend\', OLD.killaddition_weekend, NOW(), NEW.killaddition_weekend, USER());\nEND IF;\nIF OLD.manual_delete != NEW.manual_delete THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'manual_delete\', OLD.manual_delete, NOW(), NEW.manual_delete, USER());\nEND IF;\nIF OLD.manual_top_blocked != NEW.manual_top_blocked THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'manual_top_blocked\', OLD.manual_top_blocked, NOW(), NEW.manual_top_blocked, USER());\nEND IF;\nIF OLD.proc_additional != NEW.proc_additional THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'proc_additional\', OLD.proc_additional, NOW(), NEW.proc_additional, USER());\nEND IF;\nIF OLD.proc_coef != NEW.proc_coef THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'proc_coef\', OLD.proc_coef, NOW(), NEW.proc_coef, USER());\nEND IF;\nIF OLD.proc_iblock != NEW.proc_iblock THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'proc_iblock\', OLD.proc_iblock, NOW(), NEW.proc_iblock, USER());\nEND IF;\nIF OLD.proc_tblock != NEW.proc_tblock THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'proc_tblock\', OLD.proc_tblock, NOW(), NEW.proc_tblock, USER());\nEND IF;\nIF OLD.proc_parasit != NEW.proc_parasit THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'proc_parasit\', OLD.proc_parasit, NOW(), NEW.proc_parasit, USER());\nEND IF;\nIF OLD.cat_for_top != NEW.cat_for_top THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'cat_for_top\', OLD.cat_for_top, NOW(), NEW.cat_for_top, USER());\nEND IF;\nIF OLD.ctr_news != NEW.ctr_news THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'ctr_news\', OLD.ctr_news, NOW(), NEW.ctr_news, USER());\nEND IF;\nIF OLD.seller != NEW.seller THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'seller\', OLD.seller, NOW(), NEW.seller, USER());\nEND IF;\nIF OLD.seller_scheme != NEW.seller_scheme THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'seller_scheme\', OLD.seller_scheme, NOW(), NEW.seller_scheme, USER());\nEND IF;\nIF OLD.seller_sum != NEW.seller_sum THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'seller_sum\', OLD.seller_sum, NOW(), NEW.seller_sum, USER());\nEND IF;\nIF OLD.seller_lite != NEW.seller_lite THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'seller_lite\', OLD.seller_lite, NOW(), NEW.seller_lite, USER());\nEND IF;\nIF OLD.ctr_scheme != NEW.ctr_scheme THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'ctr_scheme\', OLD.ctr_scheme, NOW(), NEW.ctr_scheme, USER());\nEND IF;\nIF OLD.pay_summary != NEW.pay_summary THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'pay_summary\', OLD.pay_summary, NOW(), NEW.pay_summary, USER());\nEND IF;\nIF OLD.seller_last_sum != NEW.seller_last_sum THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'seller_last_sum\', OLD.seller_last_sum, NOW(), NEW.seller_last_sum, USER());\nEND IF;\nIF OLD.seller_last_sum_comments != NEW.seller_last_sum_comments THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'seller_last_sum_comments\', OLD.seller_last_sum_comments, NOW(), NEW.seller_last_sum_comments, USER());\nEND IF;\nIF OLD.shows_count1 != NEW.shows_count1 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'shows_count1\', OLD.shows_count1, NOW(), NEW.shows_count1, USER());\nEND IF;\nIF OLD.shows_count2 != NEW.shows_count2 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'shows_count2\', OLD.shows_count2, NOW(), NEW.shows_count2, USER());\nEND IF;\nIF OLD.shows_count3 != NEW.shows_count3 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'shows_count3\', OLD.shows_count3, NOW(), NEW.shows_count3, USER());\nEND IF;\nIF OLD.shows_count4 != NEW.shows_count4 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'shows_count4\', OLD.shows_count4, NOW(), NEW.shows_count4, USER());\nEND IF;\nIF OLD.shows_count5 != NEW.shows_count5 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'shows_count5\', OLD.shows_count5, NOW(), NEW.shows_count5, USER());\nEND IF;\nIF OLD.mil_sum1 != NEW.mil_sum1 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'mil_sum1\', OLD.mil_sum1, NOW(), NEW.mil_sum1, USER());\nEND IF;\nIF OLD.mil_sum2 != NEW.mil_sum2 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'mil_sum2\', OLD.mil_sum2, NOW(), NEW.mil_sum2, USER());\nEND IF;\nIF OLD.mil_sum3 != NEW.mil_sum3 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'mil_sum3\', OLD.mil_sum3, NOW(), NEW.mil_sum3, USER());\nEND IF;\nIF OLD.mil_sum4 != NEW.mil_sum4 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'mil_sum4\', OLD.mil_sum4, NOW(), NEW.mil_sum4, USER());\nEND IF;\nIF OLD.mil_sum5 != NEW.mil_sum5 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'mil_sum5\', OLD.mil_sum5, NOW(), NEW.mil_sum5, USER());\nEND IF;\nIF OLD.total1 != NEW.total1 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'total1\', OLD.total1, NOW(), NEW.total1, USER());\nEND IF;\nIF OLD.total2 != NEW.total2 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'total2\', OLD.total2, NOW(), NEW.total2, USER());\nEND IF;\nIF OLD.total3 != NEW.total3 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'total3\', OLD.total3, NOW(), NEW.total3, USER());\nEND IF;\nIF OLD.total4 != NEW.total4 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'total4\', OLD.total4, NOW(), NEW.total4, USER());\nEND IF;\nIF OLD.total5 != NEW.total5 THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'total5\', OLD.total5, NOW(), NEW.total5, USER());\nEND IF;\nIF OLD.total_pay != NEW.total_pay THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'total_pay\', OLD.total_pay, NOW(), NEW.total_pay, USER());\nEND IF;\nIF OLD.type_of_top != NEW.type_of_top THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'type_of_top\', OLD.type_of_top, NOW(), NEW.type_of_top, USER());\nEND IF;\nIF OLD.pay_date != NEW.pay_date THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'pay_date\', OLD.pay_date, NOW(), NEW.pay_date, USER());\nEND IF;\nIF OLD.shop != NEW.shop THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'shop\', OLD.shop, NOW(), NEW.shop, USER());\nEND IF;\nIF OLD.buyer_sum_per_click != NEW.buyer_sum_per_click THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'buyer_sum_per_click\', OLD.buyer_sum_per_click, NOW(), NEW.buyer_sum_per_click, USER());\nEND IF;\nIF OLD.buyer_start_clicks != NEW.buyer_start_clicks THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'buyer_start_clicks\', OLD.buyer_start_clicks, NOW(), NEW.buyer_start_clicks, USER());\nEND IF;\nIF OLD.buyer_start_data != NEW.buyer_start_data THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'buyer_start_data\', OLD.buyer_start_data, NOW(), NEW.buyer_start_data, USER());\nEND IF;\nIF OLD.buyer_diposit != NEW.buyer_diposit THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'buyer_diposit\', OLD.buyer_diposit, NOW(), NEW.buyer_diposit, USER());\nEND IF;\nIF OLD.buyer_geoid != NEW.buyer_geoid THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'buyer_geoid\', OLD.buyer_geoid, NOW(), NEW.buyer_geoid, USER());\nEND IF;\nIF OLD.on_news_show_cat != NEW.on_news_show_cat THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'on_news_show_cat\', OLD.on_news_show_cat, NOW(), NEW.on_news_show_cat, USER());\nEND IF;\nIF OLD.buyer_dep_stop != NEW.buyer_dep_stop THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'buyer_dep_stop\', OLD.buyer_dep_stop, NOW(), NEW.buyer_dep_stop, USER());\nEND IF;\nIF OLD.suspected != NEW.suspected THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'suspected\', OLD.suspected, NOW(), NEW.suspected, USER());\nEND IF;\nIF OLD.ero != NEW.ero THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'ero\', OLD.ero, NOW(), NEW.ero, USER());\nEND IF;\nIF OLD.strong_measures != NEW.strong_measures THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'strong_measures\', OLD.strong_measures, NOW(), NEW.strong_measures, USER());\nEND IF;\nIF OLD.internal != NEW.internal THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'internal\', OLD.internal, NOW(), NEW.internal, USER());\nEND IF;\nIF OLD.70proc != NEW.70proc THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'70proc\', OLD.70proc, NOW(), NEW.70proc, USER());\nEND IF;\nIF OLD.news_livetime != NEW.news_livetime THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'news_livetime\', OLD.news_livetime, NOW(), NEW.news_livetime, USER());\nEND IF;\nIF OLD.without_referer != NEW.without_referer THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'without_referer\', OLD.without_referer, NOW(), NEW.without_referer, USER());\nEND IF;\nIF OLD.auto_killer != NEW.auto_killer THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'auto_killer\', OLD.auto_killer, NOW(), NEW.auto_killer, USER());\nEND IF;\nIF OLD.money_paid != NEW.money_paid THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'money_paid\', OLD.money_paid, NOW(), NEW.money_paid, USER());\nEND IF;\nIF OLD.theme_id != NEW.theme_id THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'theme_id\', OLD.theme_id, NOW(), NEW.theme_id, USER());\nEND IF;\nIF OLD.regions_set != NEW.regions_set THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'regions_set\', OLD.regions_set, NOW(), NEW.regions_set, USER());\nEND IF;\nIF OLD.start_shows != NEW.start_shows THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'start_shows\', OLD.start_shows, NOW(), NEW.start_shows, USER());\nEND IF;\nIF OLD.ctr_scheme_etalon_ticker != NEW.ctr_scheme_etalon_ticker THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'ctr_scheme_etalon_ticker\', OLD.ctr_scheme_etalon_ticker, NOW(), NEW.ctr_scheme_etalon_ticker, USER());\nEND IF;\nIF OLD.denied_popups != NEW.denied_popups THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'denied_popups\', OLD.denied_popups, NOW(), NEW.denied_popups, USER());\nEND IF;\nIF OLD.save_from_us_list_hosts != NEW.save_from_us_list_hosts THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'save_from_us_list_hosts\', OLD.save_from_us_list_hosts, NOW(), NEW.save_from_us_list_hosts, USER());\nEND IF;\nIF OLD.clickbuyer != NEW.clickbuyer THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer\', OLD.clickbuyer, NOW(), NEW.clickbuyer, USER());\nEND IF;\nIF OLD.clickbuyer_amountrequirement != NEW.clickbuyer_amountrequirement THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_amountrequirement\', OLD.clickbuyer_amountrequirement, NOW(), NEW.clickbuyer_amountrequirement, USER());\nEND IF;\nIF OLD.clickbuyer_howmany != NEW.clickbuyer_howmany THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_howmany\', OLD.clickbuyer_howmany, NOW(), NEW.clickbuyer_howmany, USER());\nEND IF;\nIF OLD.clickbuyer_howmany_weekend != NEW.clickbuyer_howmany_weekend THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_howmany_weekend\', OLD.clickbuyer_howmany_weekend, NOW(), NEW.clickbuyer_howmany_weekend, USER());\nEND IF;\nIF OLD.clickbuyer_priceofclick != NEW.clickbuyer_priceofclick THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_priceofclick\', OLD.clickbuyer_priceofclick, NOW(), NEW.clickbuyer_priceofclick, USER());\nEND IF;\nIF OLD.clickbuyer_stat != NEW.clickbuyer_stat THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_stat\', OLD.clickbuyer_stat, NOW(), NEW.clickbuyer_stat, USER());\nEND IF;\nIF OLD.clickbuyer_statdata != NEW.clickbuyer_statdata THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_statdata\', OLD.clickbuyer_statdata, NOW(), NEW.clickbuyer_statdata, USER());\nEND IF;\nIF OLD.clickbuyer_timerequirement != NEW.clickbuyer_timerequirement THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_timerequirement\', OLD.clickbuyer_timerequirement, NOW(), NEW.clickbuyer_timerequirement, USER());\nEND IF;\nIF OLD.clickbuyer_timerequirementdata != NEW.clickbuyer_timerequirementdata THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_timerequirementdata\', OLD.clickbuyer_timerequirementdata, NOW(), NEW.clickbuyer_timerequirementdata, USER());\nEND IF;\nIF OLD.clickbuyer_additioninfo != NEW.clickbuyer_additioninfo THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_additioninfo\', OLD.clickbuyer_additioninfo, NOW(), NEW.clickbuyer_additioninfo, USER());\nEND IF;\nIF OLD.clickbuyer_moneypaid != NEW.clickbuyer_moneypaid THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_moneypaid\', OLD.clickbuyer_moneypaid, NOW(), NEW.clickbuyer_moneypaid, USER());\nEND IF;\nIF OLD.clickbuyer_deposit_stop != NEW.clickbuyer_deposit_stop THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_deposit_stop\', OLD.clickbuyer_deposit_stop, NOW(), NEW.clickbuyer_deposit_stop, USER());\nEND IF;\nIF OLD.clickbuyer_starttime != NEW.clickbuyer_starttime THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_starttime\', OLD.clickbuyer_starttime, NOW(), NEW.clickbuyer_starttime, USER());\nEND IF;\nIF OLD.clickbuyer_endtime != NEW.clickbuyer_endtime THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_endtime\', OLD.clickbuyer_endtime, NOW(), NEW.clickbuyer_endtime, USER());\nEND IF;\nIF OLD.clickbuyer_return != NEW.clickbuyer_return THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_return\', OLD.clickbuyer_return, NOW(), NEW.clickbuyer_return, USER());\nEND IF;\nIF OLD.clickbuyer_returndata != NEW.clickbuyer_returndata THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_returndata\', OLD.clickbuyer_returndata, NOW(), NEW.clickbuyer_returndata, USER());\nEND IF;\nIF OLD.toppaging != NEW.toppaging THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'toppaging\', OLD.toppaging, NOW(), NEW.toppaging, USER());\nEND IF;\nIF OLD.vip != NEW.vip THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'vip\', OLD.vip, NOW(), NEW.vip, USER());\nEND IF;\nIF OLD.type_of_news != NEW.type_of_news THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'type_of_news\', OLD.type_of_news, NOW(), NEW.type_of_news, USER());\nEND IF;\nIF OLD.ad_news_url != NEW.ad_news_url THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'ad_news_url\', OLD.ad_news_url, NOW(), NEW.ad_news_url, USER());\nEND IF;\nIF OLD.ad_news_url_pos != NEW.ad_news_url_pos THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'ad_news_url_pos\', OLD.ad_news_url_pos, NOW(), NEW.ad_news_url_pos, USER());\nEND IF;\nIF OLD.max_green != NEW.max_green THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'max_green\', OLD.max_green, NOW(), NEW.max_green, USER());\nEND IF;\nIF OLD.id_topblock != NEW.id_topblock THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'id_topblock\', OLD.id_topblock, NOW(), NEW.id_topblock, USER());\nEND IF;\nIF OLD.who_blocked != NEW.who_blocked THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'who_blocked\', OLD.who_blocked, NOW(), NEW.who_blocked, USER());\nEND IF;\nIF OLD.full_delete_reason != NEW.full_delete_reason THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'full_delete_reason\', OLD.full_delete_reason, NOW(), NEW.full_delete_reason, USER());\nEND IF;\nIF OLD.seller_last_hits != NEW.seller_last_hits THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'seller_last_hits\', OLD.seller_last_hits, NOW(), NEW.seller_last_hits, USER());\nEND IF;\nIF OLD.seller_last_clicks != NEW.seller_last_clicks THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'seller_last_clicks\', OLD.seller_last_clicks, NOW(), NEW.seller_last_clicks, USER());\nEND IF;\nIF OLD.standart_partner != NEW.standart_partner THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'standart_partner\', OLD.standart_partner, NOW(), NEW.standart_partner, USER());\nEND IF;\nIF OLD.non_standart_info != NEW.non_standart_info THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'non_standart_info\', OLD.non_standart_info, NOW(), NEW.non_standart_info, USER());\nEND IF;\nIF OLD.murdered_shows != NEW.murdered_shows THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'murdered_shows\', OLD.murdered_shows, NOW(), NEW.murdered_shows, USER());\nEND IF;\nIF OLD.murdered_clicks != NEW.murdered_clicks THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'murdered_clicks\', OLD.murdered_clicks, NOW(), NEW.murdered_clicks, USER());\nEND IF;\nIF OLD.est_price_of_click != NEW.est_price_of_click THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'est_price_of_click\', OLD.est_price_of_click, NOW(), NEW.est_price_of_click, USER());\nEND IF;\nIF OLD.deposit_correct_factor != NEW.deposit_correct_factor THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'deposit_correct_factor\', OLD.deposit_correct_factor, NOW(), NEW.deposit_correct_factor, USER());\nEND IF;\nIF OLD.external != NEW.external THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'external\', OLD.external, NOW(), NEW.external, USER());\nEND IF;\nIF OLD.include_backclicks != NEW.include_backclicks THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'include_backclicks\', OLD.include_backclicks, NOW(), NEW.include_backclicks, USER());\nEND IF;\nIF OLD.clickbuyer_packet != NEW.clickbuyer_packet THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'clickbuyer_packet\', OLD.clickbuyer_packet, NOW(), NEW.clickbuyer_packet, USER());\nEND IF;\nIF OLD.deposit_delete != NEW.deposit_delete THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'deposit_delete\', OLD.deposit_delete, NOW(), NEW.deposit_delete, USER());\n    INSERT INTO `test_partners_changes`.`overall_log`(`table`, `table_id`, `who`, `action`, `old_values`, `new_values`)\n        VALUES (\'partners_1\', OLD.id, \'system_auth\', \'UPDATE\', CONCAT(\'{"deposit_delete":"\', OLD.deposit_delete,\'"}\'), CONCAT(\'{"deposit_delete":"\', NEW.deposit_delete,\'"}\'));\nEND IF;\nIF OLD.auto_delete != NEW.auto_delete THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'auto_delete\', OLD.auto_delete, NOW(), NEW.auto_delete, USER());\n    INSERT INTO `test_partners_changes`.`overall_log`(`table`, `table_id`, `who`, `action`, `old_values`, `new_values`)\n        VALUES (\'partners_1\', OLD.id, \'system_auth\', \'UPDATE\', CONCAT(\'{"auto_delete":"\', OLD.auto_delete,\'"}\'), CONCAT(\'{"auto_delete":"\', NEW.auto_delete,\'"}\'));\nEND IF;\nIF OLD.daytype != NEW.daytype THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'daytype\', OLD.daytype, NOW(), NEW.daytype, USER());\nEND IF;\nIF OLD.options != NEW.options THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'options\', OLD.options, NOW(), NEW.options, USER());\nEND IF;\nIF OLD.non_standard_ratio != NEW.non_standard_ratio THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`, `mysql_user`)\n        VALUES(NEW.id, @auth_login, \'non_standard_ratio\', OLD.non_standard_ratio, NOW(), NEW.non_standard_ratio, USER());\nEND IF;\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER `partners_1_delete_check` BEFORE DELETE ON `partners_1`\n FOR EACH ROW BEGIN\n\nIF @auth_login IS null THEN\n    INSERT INTO `test_partners_changes`.`null_who_change`(id, `who_change`) VALUES(null, @auth_login);\nEND IF;\n\nIF (LENGTH(@key) > 0) THEN\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`partner`, `who`, `field`, `old_value`, `when`, `new_value`)\n        VALUES(OLD.id, @auth_login, \'delete\', @key, NOW(), \'\');\nELSE\n    INSERT INTO `test_partners_changes`.`partners_1_changes`(`invalid_key`) VALUES(\'access_denied\');\nEND IF;\n\nIF @test IS NULL THEN\n    SET @key = \'\';\nEND IF;\n\nEND'
sql_modes=1342177280 1342177280 0
definers='root@localhost' 'root@localhost' 'root@localhost'
client_cs_names='utf8' 'utf8' 'utf8'
connection_cl_names='utf8_general_ci' 'utf8_general_ci' 'utf8_general_ci'
db_cl_names='utf8_general_ci' 'utf8_general_ci' 'utf8_general_ci'
created=153375877647 153375877648 153375877650
